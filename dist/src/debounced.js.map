{"version":3,"file":"debounced.js","sourceRoot":"","sources":["../../src/debounced.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,SAAS,CACvB,IAA2B,EAC3B,OAAe;IAEf,IAAI,KAAU,CAAC;IACf,IAAI,MAAkB,CAAC;IACvB,OAAO;QACL,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEpC,IAAI,KAAK,EAAE;YACT,YAAY,CAAC,KAAK,CAAC,CAAC;YACpB,KAAK,GAAG,SAAS,CAAC;SACnB;QAED,IAAI,MAAM,EAAE;YACV,OAAO,MAAM,CAAC;SACf;aAAM;YACL,OAAO,CAAC,MAAM,GAAG,IAAI,OAAO,CAAI,CAAC,OAAO,EAAE,EAAE;gBAC1C,KAAK,GAAG,UAAU,CAAC;oBACjB,YAAY,CAAC,KAAK,CAAC,CAAC;oBACpB,KAAK,GAAG,SAAS,CAAC;oBAClB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;gBACrC,CAAC,EAAE,OAAO,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC;SACL;IACH,CAAC,CAAC;AACJ,CAAC","sourcesContent":["export function Debounced<T>(\n  func: (...args: any[]) => T,\n  backoff: number\n): (...args: any[]) => Promise<T> {\n  var timer: any;\n  var result: Promise<T>;\n  return function (): Promise<T> {\n    var self = this;\n    var evtargs = Array.from(arguments);\n\n    if (timer) {\n      clearTimeout(timer);\n      timer = undefined;\n    }\n\n    if (result) {\n      return result;\n    } else {\n      return (result = new Promise<T>((resolve) => {\n        timer = setTimeout(function () {\n          clearTimeout(timer);\n          timer = undefined;\n          resolve(func.apply(self, evtargs));\n        }, backoff);\n      }));\n    }\n  };\n}\n"]}